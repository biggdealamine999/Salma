<audio id="mySong">
  <source src="music.mp3" type="audio/mpeg">
  Your browser does not support the audio element.
</audio>

<script>
    function createPetal() {
        const petal = document.createElement('div');
        petal.classList.add('petal');
        const items = ['ðŸŒ¸', 'â¤ï¸', 'ðŸŒ¹', 'âœ¨'];
        petal.innerText = items[Math.floor(Math.random() * items.length)];
        
        petal.style.left = Math.random() * 100 + 'vw';
        petal.style.animationDuration = Math.random() * 2 + 3 + 's';
        petal.style.fontSize = Math.random() * 20 + 10 + 'px';
        
        document.body.appendChild(petal);
        
        setTimeout(() => {
            petal.remove();
        }, 5000);
    }

    function startSurprise() {
        // 1. Play the music
        const song = document.getElementById("mySong");
        song.play().catch(error => {
            console.log("Autoplay was prevented. Clicking the button handles this!");
        });

        // 2. Start the petals
        let count = 0;
        const interval = setInterval(() => {
            createPetal();
            count++;
            if (count > 50) clearInterval(interval);
        }, 100);
    }
</script>
